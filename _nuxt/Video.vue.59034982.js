import{d as w,b as h,r as m,bF as b,aP as k,q as x,D as _,o as S,a as g,l as B,a1 as P,u as W,M,b_ as V}from"./entry.8cba7e1e.js";const D=["poster"],O=w({__name:"Video",props:{attributes:{default(){return{}}},src:{default:""},autoplay:{default:!0},poster:{default:""}},setup(s,{expose:l}){const o=s,c={muted:!0,loop:!0,playsinline:!0},p=h(()=>({...c,src:o.src,autoplay:o.autoplay,...o.attributes})),a=m();async function n(){var e;try{return await((e=a.value)==null?void 0:e.play()),!0}catch{return!1}}function d(){var e;(e=a.value)==null||e.pause()}const{y:f}=b();let r;function y(){typeof window.WeixinJSBridge<"u"&&u.value&&window.WeixinJSBridge.invoke("getNetworkType",{},e=>{var t;(t=a.value)==null||t.play()}),i&&(r=M(f,V(v,300)))}async function v(e){e&&await n()&&r&&r()}const{isAndroid:i,isIOS:u}=k();return x(async()=>{await _(),(i.value||u.value)&&y()}),l({play:n,pause:d}),(e,t)=>(S(),g("video",P({ref_key:"videoRef",ref:a},W(p),{"webkit-playsinline":"true","x-webkit-airplay":"true","x5-playsinline":"","x5-video-player-type":"h5","x5-video-orientation":"h5",preload:"auto",poster:s.poster}),[B(e.$slots,"source")],16,D))}});export{O as _};

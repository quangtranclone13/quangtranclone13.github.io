import j from"./Form.074b64ba.js";import q from"./ScrollText.94455b24.js";import{b as s,u as H}from"./useGTag.98087ddc.js";import{d as K,q as X,aA as Y,aL as z,r as d,K as w,L as l,x as J,y as Q,m as t,N as L,aS as Z,aT as oo,bT as eo,bU as p,bV as to,o as P,a as T,f as e,t as c,u as h,w as M,F as io,v as no,bo as so,aU as lo,bW as ao,U as ro,V as co,aV as po,bX as go,W as uo}from"./entry.8cba7e1e.js";/* empty css                   */import{_ as fo}from"./_plugin-vue_export-helper.a1a6add7.js";import"./Form.vue.05855c5e.js";import"./FormItemRender.vue.7116eee4.js";import"./Upload.74a010bf.js";import"./CountrySelect.aae122e7.js";import"./payment.81dfa3b1.js";import"./VerificationCodeInput.d58b074a.js";import"./useValidator.21496c0f.js";import"./timer.4152b58e.js";const mo=g=>(ro("data-v-0be170f9"),g=g(),co(),g),_o={class:"sign-in-title"},Io={class:"sign-in-content"},ko={class:"forget-text"},vo={class:"other-login-in"},wo=mo(()=>e("div",{class:"text-flag"},null,-1)),ho={class:"btn-list-wrapper"},bo=["onClick"],Co=["src"],yo={class:"account"},xo=K({__name:"SignIn",emits:["signUpClick","signInClick","otherLoginClick","forgetClick"],setup(g,{expose:N,emit:u}){let{useLoginGTag:F}=H(),{_PointOfficialSignIn:a}=F(),{useCommonMp:R}=so(),{_pointMpWebsiteSignInPop:U,_pointMpWebsiteSignIn:V}=R();X(()=>{let o=Y().path;U({source:o===z?"evoto_website_pricing":"evoto_website"})});const $=po(),b=d(),C=d(),n=w({show:!1,platform:1,socialName:""}),y=o=>{n.show=!0,n.platform=o,n.socialName=go[o]};let A=w({email:[{validator:async(o,m,i)=>{let _=uo;if(n.show=!1,_.test(m)){let r=await lo({email:I.email}),k=r.login_tag,v=r.last_login;return[2,4,6].includes(k)?(v===2?y(p.Google):v===4&&y(p.Facebook),i(new Error)):i()}else return i(new Error(l("login.signIn.error")))},trigger:"blur"}],password:[{validator:async(o,m,i)=>m?i():i(new Error(l("login.signIn.errorPsd"))),trigger:"blur"}]}),I=w({email:"",password:""}),f=d([{type:"input",model:"email",label:l("login.label.email"),onBlur(){a({official_operate:s.input_email})},childSlots:o=>J(t("div",{class:"email-exist"},[t("span",null,[l("login.signUp.errLogin2")]),t("span",{class:"c-email-exist",onClick:()=>{S({action:n.platform})}},[L("Please continue with "),n.socialName])]),[[Q,n.show]]),clearable:!0},{type:"input",model:"password",label:l("login.label.psd"),itype:"password",autoComplete:"new-password",enterClick:!0,enterClickFn:()=>{x()},onBlur(){a({official_operate:s.enter_password})},clearable:!0,suffixSlot(){return t("div",{class:"eyes-wrapper"},[t("span",{class:"eyes-wrapper-text"},null),t("img",{src:f.value[1].itype?Z:oo,class:"eyes-icon",onClick:B},null)])}}]);const G=[{text:l("login.signIn.btnText[0]"),icon:eo,action:p.Google},{text:l("login.signIn.btnText[1]"),icon:to,action:p.Facebook}],B=()=>{f.value[1].itype=f.value[1].itype?"":"password"},x=()=>{a({official_operate:s.click_popup_signin}),b.value.validate()},E=d();N({loadingInstance:E});const O=o=>{o?(E.value=$.$loading({target:C.value}),u("signInClick",I)):V({type:"emailSignIn",result:ao.Failure})},W=()=>{a({official_operate:s.click_forget_password}),u("forgetClick")},S=o=>{a({official_operate:o.action===p.Google?s.click_google:s.click_facebook}),u("otherLoginClick",o.action)},D=()=>{a({official_operate:s.click_signup}),u("signUpClick")};return(o,m)=>{const i=j,_=q;return P(),T("div",{ref_key:"signInRef",ref:C,class:"sign-in"},[e("div",_o,c(o.$t("login.signIn.title")),1),e("div",Io,[t(i,{ref_key:"formRef",ref:b,"form-input-list":h(f),"form-inline":!1,"form-rules":h(A),"form-label-position":"top","form-model":h(I),onValidate:O},null,8,["form-input-list","form-rules","form-model"]),e("span",ko,[e("span",{onClick:W},c(o.$t("login.signIn.forget")),1)]),e("div",{class:"sign-in-button",onClick:x},[t(_,null,{default:M(()=>[L(c(o.$t("login.signIn.title")),1)]),_:1})])]),e("div",vo,[wo,e("div",ho,[(P(),T(io,null,no(G,(r,k)=>e("div",{key:k,class:"btn-list-item",onClick:v=>S(r)},[t(_,null,{default:M(()=>[e("img",{src:r.icon,alt:""},null,8,Co),e("span",null,c(r.text),1)]),_:2},1024)],8,bo)),64))]),e("div",yo,[e("span",null,c(o.$t("login.signIn.account")),1),e("span",{onClick:D},c(o.$t("login.signUp.title")),1)])])],512)}}}),Wo=fo(xo,[["__scopeId","data-v-0be170f9"]]);export{Wo as default};

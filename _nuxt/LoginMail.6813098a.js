import V from"./VerCodeForm.e4d6a940.js";import b from"./ScrollText.94455b24.js";import{u as B,a as y,I as D}from"./useGTag.98087ddc.js";import{d as F,r as i,o as R,a as T,f as a,t as o,N as k,h as M,m,w as S,x as A,y as L,u as _,z as Q,i as w,aR as p,aV as z}from"./entry.8cba7e1e.js";/* empty css                      */import{_ as U}from"./_plugin-vue_export-helper.a1a6add7.js";import"./VerCodeForm.vue.f8a00a27.js";const Y={class:"login-mail-title"},q={class:"login-mail-content"},j={class:"desc"},H={class:w(["resend-code"])},J=F({__name:"LoginMail",props:{registryQuery:{default:()=>({})},showChangeText:{type:Boolean,default:!0},sceneRecord:{default:()=>null}},emits:["resendCode","submitCode","changeMail"],setup(l,{expose:x,emit:r}){const n=l;let{useLoginGTag:I}=B(),{_PointOfficialSignUp:g,_PointOfficialForgotPassword:O}=I(),E=z(),v=i();const c=i(!1),d=i(),t=i(60);let s=i(!1);function f(){t.value>0?setTimeout(()=>{t.value--,f()},1e3):(t.value="",s.value=!0)}f();const N=()=>{s.value&&(n.sceneRecord===p.REGISTRY&&g({official_operate:y.click_verification_resend}),c.value=!1,s.value=!1,t.value=60,f(),r("resendCode"))};let C=i();x({loadingInstance:C});const h=()=>{if(d.value){let e=d.value.input;e.some(u=>u===void 0||u==="")?c.value=!0:(n.sceneRecord===p.FORGET_PSD&&O({official_operate:D.input_verification_code}),C.value=E.$loading({target:v.value}),r("submitCode",{code:e,query:n.registryQuery}))}},$=()=>{n.sceneRecord===p.REGISTRY&&g({official_operate:y.click_verification_change}),r("changeMail")};return(e,u)=>{const G=V,P=b;return R(),T("div",{ref_key:"emailRef",ref:v,class:"login-mail"},[a("div",Y,o(e.$t("login.email.title")),1),a("div",q,[a("div",j,[a("span",null,[k(o(e.$t("login.email.desc"))+" "+o(l.registryQuery.email)+" ",1),l.showChangeText?(R(),T("span",{key:0,class:"desc-change-mail",onClick:$},o(e.$t("login.email.change")),1)):M("",!0)])]),m(G,{ref_key:"verCodeRef",ref:d,onEnterClick:h},null,512),m(Q,{name:"fade"},{default:S(()=>[A(a("span",{class:"err-code"},o(e.$t("login.email.invalid")),513),[[L,_(c)]])]),_:1}),a("div",H,[a("span",{class:w([_(s)?"resend-code-active":""]),onClick:N},o(e.$t("login.email.resend"))+"\xA0"+o(_(t)),3)]),a("div",{class:"submit-button",onClick:h},[m(P,null,{default:S(()=>[k(o(e.$t("login.email.done")),1)]),_:1})])])],512)}}}),ie=U(J,[["__scopeId","data-v-1310784c"]]);export{ie as default};

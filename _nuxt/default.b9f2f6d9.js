import bo from"./NavBar.942b8375.js";import Ro from"./FooterLink.bad52e9d.js";import Go from"./SignIn.1db7dfbc.js";import Ao from"./SignUp.e1627a7c.js";import Uo from"./ForgetPsd.37e6c5e1.js";import Oo from"./LoginMail.6813098a.js";import Mo from"./Dialog.e368503a.js";import No from"./Drawer.acb4cf4c.js";import xo from"./ContactSales.2ddc189c.js";import Fo from"./PaymentStatus.f7d7fba8.js";import{u as so,i as Bo,s as Vo}from"./useGTag.98087ddc.js";import{d as Ho,aN as Yo,r as l,b as Wo,dv as U,cf as O,at as Ko,dw as jo,K as M,M as V,o as f,a as zo,u as e,e as y,h as S,l as Jo,m as E,w as H,I as lo,bo as Qo,ag as no,cP as Xo,aR as n,dx as $o,bx as Y,L as W,S as Zo,n as K,aM as qo,aB as ot,b2 as tt,bW as p,dg as ro,dl as j,ae as et,dy as it,c_ as z,dz as at,dm as st,dA as lt,aA as N,di as mo,dk as nt,cM as rt,cN as mt,df as J,bA as pt}from"./entry.8cba7e1e.js";import{P as Q}from"./payment.81dfa3b1.js";import{u as ct}from"./usePolicyCheckboxDialog.17c2b28e.js";import{a as ut}from"./index.40e7ad02.js";import{_ as gt}from"./_plugin-vue_export-helper.a1a6add7.js";import"./NavBarMenuList.b19be674.js";import"./NavBar.vue.48845066.js";/* empty css                  */import"./ArrowButton.vue.0882fd3d.js";/* empty css                      */import"./ScrollText.94455b24.js";/* empty css                         */import"./ImageCompare.9636921c.js";/* empty css                     *//* empty css                        *//* empty css                   *//* empty css                     */import"./Form.vue.05855c5e.js";import"./FormItemRender.vue.7116eee4.js";import"./Upload.74a010bf.js";import"./CountrySelect.aae122e7.js";import"./VerificationCodeInput.d58b074a.js";import"./useValidator.21496c0f.js";import"./timer.4152b58e.js";import"./client-only.44583168.js";/* empty css                         *//* empty css                   *//* empty css                   *//* empty css                   *//* empty css                   *//* empty css                  */import"./CountTo.vue.471cb613.js";import"./moment.d2fcea56.js";import"./Countdown.273479e2.js";import"./isString.4072b557.js";/* empty css                */import"./FlipWrapper.74d57294.js";/* empty css                       *//* empty css                      *//* empty css                      */import"./VerCodeForm.vue.f8a00a27.js";/* empty css                      */import"./Transition.vue.6ded4129.js";/* empty css                      *//* empty css                          *//* empty css                                 *//* empty css                  *//* empty css                                 *//* empty css                        *//* empty css                   *//* empty css                   */import"./Table.vue.fc198797.js";/* empty css                    *//* empty css                        *//* empty css                    *//* empty css                      *//* empty css                 *//* empty css                         *//* empty css                     */import"./combo.96df37d6.js";/* empty css                       *//* empty css                          *//* empty css                         *//* empty css                            */import"./useDownload.1ab3c12d.js";import"./download.e4c9c7c8.js";import"./download.e1381952.js";import"./ThanksDialog.323617ee.js";/* empty css                              *//* empty css                          */import"./index.40a3e550.js";import"./Checkbox.4337e9cb.js";import"./useCheckboxStatus.7c1562d4.js";import"./CheckboxImage.1cadcd41.js";import"./Workspace.75423b79.js";/* empty css                                *//* empty css                                *//* empty css                         *//* empty css                             *//* empty css                      *//* empty css                 *//* empty css                                    */import"./ImageEditingItem.vue.24cef094.js";import"./CheckboxGroup.vue.27328ab5.js";import"./useImagePreload.758826e1.js";import"./PortraitBeautificationItem.vue.5b54a5f5.js";/* empty css                 *//* empty css                   *//* empty css                                *//* empty css                               */import"./home.d05c9270.js";/* empty css                                *//* empty css                           *//* empty css                        */import"./Sidebar.vue.a29f003e.js";/* empty css                        */import"./OperationManual.vue.ffd05e38.js";import"./useFbq.f4735dc4.js";/* empty css                 *//* empty css                   */import"./Dialog.vue.2305dc16.js";import"./useLandingForm.533422ba.js";/* empty css                   *//* empty css                   *//* empty css                         *//* empty css                                 *//* empty css                         *//* empty css                            *//* empty css                            *//* empty css                      *//* empty css                             *//* empty css                         *//* empty css                            *//* empty css                          *//* empty css                         *//* empty css                          *//* empty css                     *//* empty css                                    *//* empty css                     *//* empty css                        *//* empty css                            *//* empty css                         *//* empty css                                *//* empty css                           *//* empty css                                     *//* empty css                                *//* empty css                                 *//* empty css                      */import"./start.f747da03.js";/* empty css                    */import"./MenuList.vue.e43374a6.js";import"./MobileList.vue.2428ef90.js";import"./colorTone.36cf58fd.js";import"./imageEditing.d230024e.js";import"./portraitBeautification.0e6ab458.js";/* empty css                     */import"./IconList.vue.65646196.js";import"./date.ab54ef13.js";/* empty css                    *//* empty css                   */import"./Banner.vue.70e93e42.js";import"./Container.84a5d59e.js";import"./Footer.5512fcf4.js";import"./index.23b6219e.js";/* empty css                  */import"./Details.vue.a3eb5d91.js";/* empty css                     *//* empty css                             *//* empty css                             *//* empty css                        *//* empty css                       */import"./NavBarMenuHiddenList.aa7637be.js";import"./HeaderTip.vue.1538906c.js";import"./FullGrid.96dd19c1.js";import"./useCookieDialog.206ec12e.js";import"./Dialog.f9a6915a.js";import"./Option.07409c0a.js";import"./Switch.46fdc7da.js";import"./Form.074b64ba.js";import"./VerCodeForm.e4d6a940.js";import"./Button.976436e5.js";import"./PolicyCheckboxDialog.vue.e3938d4d.js";const ft={id:"default-wrapper_f",class:"default-wrapper"},dt=Ho({__name:"default",setup(_t){const{setInviteeSuccessFlag:po}=ut(),a=Yo();let{usePaymentGTag:co}=so(),{_PointOfficePricingPurchase:uo}=co(),{useCommonMp:go}=Qo(),{_pointMpWebsiteSignIn:v,_pointMpWebsiteSignUp:I}=go(),X=l(!0),$=l(!0),x=l(!0),fo=Wo(()=>Xo().value);U(O.ShowChangePsd,()=>{B(),m("showLoginMail"),x.value=!1,R({email:a.userInfo.email},n.EDIT_PSD)}),U(O.ShowFooterLink,o=>{$.value=o}),U(O.ShowContactUs,o=>{P.value=o}),U(O.ShowPaymentStatus,({type:o,showDialog:t,showDialogIcon:i})=>{k.value=t||!0,q.value=o,Z.value=i});function _o(){let{usePaymentGTag:o}=so(),{_PointOfficePricingCustom:t}=o(),i=l(!1),r=l(),c=M({width:1024,backgroundColor:"#fff"});return{contactSalesRef:r,showContactSalesDialog:i,contactSalesDialogStyle:c,contactSalesSubmit:async g=>{var A;let C={};for(let d in g)d!=="phone"&&(C[d]=g[d]);C.phone=g.phone.inputValue,C.phone_country_code=g.phone.countryValue;try{await $o(C),Y(W("login.message.submitSuss")),i.value=!1}catch(d){r.value.loadingInstance.close(),d.data.code===Zo.Limit&&((A=r.value)==null||A.showVerCodeField())}},contactSalesGohelp:()=>{i.value=!1,K(qo)},closeContactSalesDialog:()=>{t({official_operate:Vo.click_close})}}}let{showContactSalesDialog:P,contactSalesDialogStyle:yo,contactSalesSubmit:So,contactSalesGohelp:wo,closeContactSalesDialog:ho,contactSalesRef:Co}=_o();function vo(){let o=l(!1),t=l(!1),i=M({width:600,backgroundColor:"#fff"}),r=l(Q.Loading),c=()=>{r.value===Q.Success?K(`${ot}?t=${tt.MY_BILLING}`):r.value===Q.Failed&&window.open(a.subscription_info.update_payment_url,"_blank")};return V(()=>o.value,G=>{G||setTimeout(()=>{location.reload()},10)}),{showPaymentStatusDialog:o,paymentStatusDialogStyle:i,showPaymentCloseIcon:t,paymentStatusType:r,paymentStatusBtnClick:c}}let{showPaymentStatusDialog:k,paymentStatusDialogStyle:Io,showPaymentCloseIcon:Z,paymentStatusType:q,paymentStatusBtnClick:Po}=vo();Ko(()=>{jo()});let u=M({showSignUp:!1,showLoginMail:!1,forgetPsd:!1}),F=l(),oo=l(),ko=M({width:438,backgroundColor:"#fff",padding:"40px"});const m=o=>{a.showLoginDialog=o=="showSignIn";for(let t in u)t===o?u[t]=!0:u[t]=!1},B=()=>{a.showLoginDialogAction()},Do=async o=>{try{let t=await ro({email:o.email,password:j(o.password)});a.setUserInfo(t.info.user_info,t.token),v({type:"emailSignIn",result:p.Success}),h()}catch{v({type:"emailSignIn",result:p.Failure})}finally{oo.value.loadingInstance.close()}};let w=l({}),s=l(),L,T=l(!1),D=l(!0),b=l(!0);async function to(){await et({email:w.value.email,scene:s.value})}const R=async(o,t=n.REGISTRY)=>{s.value=t,w.value=o;try{await to()}catch{t===n.REGISTRY&&I({type:"createAccount",result:p.Failure})}m("showLoginMail")},Eo=async o=>{if(s.value===n.FORGET_PSD)try{await it({email:w.value.email,verify_code:L,password:z(o.password)}),Y(W("login.message.psdEdit"))}finally{h()}else if(s.value===n.EDIT_PSD)try{await at({verify_code:L,password:z(o.password)}),Y(W("login.message.psdEdit")),setTimeout(()=>{a.clearUserInfo(!1),B(),K("/")},3e3)}finally{h()}else!b.value&&!D.value?R(o,n.LOGIN):R(o,n.FORGET_PSD)},Lo=async o=>{if(s.value===n.REGISTRY){let t={verify_code:j(o.code.join("")),email:o.query.email,password:z(o.query.password)};try{let i=await st(t);a.setUserInfo(i.info.user_info,i.token),I({type:"createAccount",result:p.Success}),h()}catch{I({type:"createAccount",result:p.Failure})}finally{F.value.loadingInstance.close()}}else{let t=j(o.code.join(""));try{let i;try{i=await lt({code:t,email:o.query.email,scene:s.value}),s.value===n.LOGIN&&I({type:"facebookSignUp",result:p.Success})}catch{s.value===n.LOGIN&&I({type:"facebookSignUp",result:p.Failure})}L=i.code,s.value===n.FORGET_PSD?(T.value=!0,m("forgetPsd")):s.value===n.EDIT_PSD?(T.value=!0,D.value=!1,m("forgetPsd")):(h(),ct({async submit({showDialog:r}){try{let c=await ro({email:w.value.email,verify_code:L,uuid:a.fb_uuid});a.setUserInfo(c.info.user_info,c.token),v({type:"facebookSignIn",result:p.Success})}catch{v({type:"facebookSignIn",result:p.Failure})}finally{r.value=!1}},closeDialog(){v({type:"facebookSignIn",result:p.Failure}),N().path===mo&&location.reload()}}),N().path===mo&&po())}finally{F.value.loadingInstance.close()}}},eo=async o=>{let t=await nt({type:o}),i=rt(mt.TR_LOGIN_M);i.value=JSON.stringify({[J.SIDE_UUID]:t.uuid,[J.TEMP_REDIRECT]:encodeURIComponent(N().fullPath),[J.TEMP_OTHER_LINk_SOURCE]:o}),location.href=t.url};V(()=>a.fb_uuid,o=>{o&&(a.showLoginDialogAction(),b.value=!1,D.value=!1,m("forgetPsd"))},{immediate:!0}),V(()=>N().path,o=>{X.value=!pt.includes(o)},{immediate:!0});const To=()=>{s.value===n.FORGET_PSD||s.value===n.LOGIN?m("forgetPsd"):s.value===n.REGISTRY&&m("showSignUp")},h=()=>{sessionStorage.getItem(no.TEMP_PAYMENT_LOGIN)&&a.showLoginDialog&&uo({official_operate:Bo.click_signin_close});for(let o in u)u[o]=!1;s.value=void 0,T.value=!1,D.value=!0,b.value=!0,x.value=!0,a.showLoginDialogAction(!1),sessionStorage.removeItem(no.TEMP_PAYMENT_LOGIN)};return(o,t)=>{const i=bo,r=Ro,c=Go,G=Ao,io=Uo,ao=Oo,g=Mo,C=No,A=xo,d=Fo;return f(),zo("div",ft,[e(fo)?(f(),y(i,{key:0,onLoginButtonClick:B})):S("",!0),Jo(o.$slots,"default",{},void 0,!0),e($)?(f(),y(r,{key:1})):S("",!0),E(g,{modelValue:e(a).showLoginDialogWrapper,"onUpdate:modelValue":t[4]||(t[4]=_=>e(a).showLoginDialogWrapper=_),"dialog-style":e(ko),"popper-class":"login-more-dialog",onClose:h},{default:H(()=>[e(a).showLoginDialog?(f(),y(c,{key:0,ref_key:"signInRef",ref:oo,onForgetClick:t[0]||(t[0]=()=>{m("forgetPsd")}),onSignInClick:Do,onSignUpClick:t[1]||(t[1]=()=>{m("showSignUp")}),onOtherLoginClick:eo},null,512)):S("",!0),e(u).showSignUp?(f(),y(G,{key:1,onCreateAccount:R,onSignUpClick:t[2]||(t[2]=()=>{m("showSignIn")}),onOtherLoginClick:eo})):S("",!0),e(u).forgetPsd?(f(),y(io,{key:2,"registry-query":e(w),"show-psd":e(T),"show-go-back":e(D),"show-psd-title":e(b),"scene-record":e(s),onSubmitReset:Eo,onSignInClick:t[3]||(t[3]=()=>{m("showSignIn")})},null,8,["registry-query","show-psd","show-go-back","show-psd-title","scene-record"])):S("",!0),e(u).showLoginMail?(f(),y(ao,{key:3,ref_key:"loginMailRef",ref:F,"scene-record":e(s),"registry-query":e(w),"show-change-text":e(x),onSubmitCode:Lo,onResendCode:to,onChangeMail:To},null,8,["scene-record","registry-query","show-change-text"])):S("",!0)]),_:1},8,["modelValue","dialog-style"]),e(X)?(f(),y(C,{key:2})):S("",!0),E(g,{modelValue:e(P),"onUpdate:modelValue":t[5]||(t[5]=_=>lo(P)?P.value=_:P=_),"dialog-style":e(yo),"popper-class":"contact-sales-dialog",onClose:e(ho)},{default:H(()=>[E(A,{ref_key:"contactSalesRef",ref:Co,onSubmit:e(So),onGoHelp:e(wo)},null,8,["onSubmit","onGoHelp"])]),_:1},8,["modelValue","dialog-style","onClose"]),E(g,{modelValue:e(k),"onUpdate:modelValue":t[6]||(t[6]=_=>lo(k)?k.value=_:k=_),"dialog-style":e(Io),"show-close-icon":e(Z),"popper-class":"payment-status_dialog"},{default:H(()=>[E(d,{type:e(q),onBtnClick:e(Po)},null,8,["type","onBtnClick"])]),_:1},8,["modelValue","dialog-style","show-close-icon"])])}}});const La=gt(dt,[["__scopeId","data-v-c036e8a5"]]);export{La as default};

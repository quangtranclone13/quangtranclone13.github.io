import{d as s,r as l,M as a,q as r,D as u}from"./entry.8cba7e1e.js";const d=s({props:["code"],emits:["enterClick"],setup(e){const t=l();let i=l([]),n=l([]);return a([e.code,i],()=>{e.code&&Array.isArray(e.code)&&e.code.length===6?n.value=e.code:/^\d{6}$/.test(e.code&&e.code.toString())?n.value=e.code.toString().split(""):i.value.length===6?n.value=i.value:n.value=Array.apply(null,{length:6})},{immediate:!0}),r(()=>{u(()=>{t.value.focus()})}),{firstInput:t,pasteResult:i,input:n}},methods:{inputEvent(e){var t=e.target.dataset.index*1,i=e.target;i.value=i.value.replace(/Digit|Numpad/i,"").replace(/1/g,"").slice(0,1),this.input[t]=i.value},keydown(e){var t=e.target.dataset.index*1,i=e.target;e.key==="Backspace"?this.input[t].length>0?this.input[t]="":i.parentNode.previousElementSibling.firstChild&&(i.parentNode.previousElementSibling.firstChild.focus(),this.input[t-1]=""):e.key==="Delete"?(this.input[t].length>0?this.input[t]="":i.parentNode.nextElementSibling.firstChild&&(this.input[1]=""),i.parentNode.nextElementSibling.firstChild&&i.parentNode.nextElementSibling.firstChild.focus()):e.key==="Home"?i.parentElement.children[0]&&i.parentElement.children[0].focus():e.key==="End"?i.parentElement.children[this.input.length-1]&&i.parentElement.children[this.input.length-1].focus():e.key==="ArrowLeft"?i.parentNode.previousElementSibling.firstChild&&i.parentNode.previousElementSibling.firstChild.focus():e.key==="ArrowRight"?i.parentNode.nextElementSibling.firstChild&&i.parentNode.nextElementSibling.firstChild.focus():e.key==="ArrowUp"?this.input[t]*1<9&&(this.input[t]=(this.input[t]*1+1).toString()):e.key==="ArrowDown"&&this.input[t]*1>0&&(this.input[t]=(this.input[t]*1-1).toString())},keyup(e){e.keyCode===13&&this.$emit("enterClick");let t=e.target.dataset.index*1,i=e.target;i.value=i.value.replace(/Digit|Numpad/i,"").replace(/1/g,"").slice(0,1),/Digit|Numpad/i.test(e.code)?(this.input[t]=e.code.replace(/Digit|Numpad/i,""),i.parentNode.nextElementSibling.firstChild&&i.parentNode.nextElementSibling.firstChild.focus(),t===5&&this.input.join("").length===6&&(document.activeElement.blur(),this.$emit("complete",this.input))):this.input[t]===""&&(this.input[t]="")},mousewheel(e){var t=e.target.dataset.index;e.wheelDelta>0?this.input[t]*1<9&&(this.input[t]=(this.input[t]*1+1).toString()):e.wheelDelta<0?this.input[t]*1>0&&(this.input[t]=(this.input[t]*1-1).toString()):e.key==="Enter"&&this.input.join("").length===6&&(document.activeElement.blur(),this.$emit("complete",this.input))},paste(e){e.clipboardData.items[0].getAsString(t=>{t=t.replace(/\s/g,""),t.toString().length===6?(this.pasteResult=t.split(""),document.activeElement.blur(),this.$emit("complete",this.input)):this.input.value=Array.apply(null,{length:6})})}}});export{d as _};

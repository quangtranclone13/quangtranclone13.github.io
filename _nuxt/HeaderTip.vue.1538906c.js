import{d as D,r as m,K as w,q as y,aW as b,s as S,E as z,o as A,e as E,m as h,w as T,x as W,y as g,u as a,aX as k,f as r,i as B,p as F,t as I,z as X,T as $,aY as C}from"./entry.8cba7e1e.js";const M={class:"title-tip"},N=r("img",{src:C},null,-1),H=D({__name:"HeaderTip",props:{scrollDuration:{default:()=>20},text:{default:()=>""}},setup(f,{expose:v}){const l=f,n=m(!0),o=m(!1),x=38,d=m(),t=w({transitionDuration:`${l.scrollDuration}s`,transitionTimingFunction:"linear"});let p,s;v({showAlert:()=>{n.value=!0,u()},closeAlert:()=>{n.value=!1,u(!1)}});function c(){let e=Math.ceil(d.value.offsetWidth),i=document.documentElement.offsetWidth||document.body.offsetWidth;e+x>i?(o.value=!0,t.transitionDuration=`${l.scrollDuration}s`,t.transform=`translateX(${-e}px)`,s||(s=setTimeout(()=>{t.transitionDuration="0s",t.transform=`translateX(${e}px)`;let _=setTimeout(()=>{c(),clearTimeout(_)});clearTimeout(s),s=null},l.scrollDuration*1e3))):o.value=!1}function u(e=!0){if(t.transitionDuration="0s",t.transform="translateX(0px)",s&&clearTimeout(s),s=null,e){let i=setTimeout(()=>{c(),clearTimeout(i)})}}return y(()=>{let e=setTimeout(()=>{c(),p=b("resize",S(()=>u(),200)),clearTimeout(e)})}),z(()=>{clearInterval(p)}),(e,i)=>(A(),E($,{to:"body"},[h(X,{name:"slide-tip"},{default:T(()=>[W(h(a(k),{center:"",class:"header-tip_warning",closable:!1,effect:"dark"},{title:T(()=>[r("div",M,[N,r("div",{class:B(["tip-text",a(o)?"tip-text-mobile":""])},[r("span",{ref_key:"textRef",ref:d,style:F(a(o)?a(t):{})},I(f.text),5)],2)])]),_:1},512),[[g,a(n)]])]),_:1})]))}});export{H as _};

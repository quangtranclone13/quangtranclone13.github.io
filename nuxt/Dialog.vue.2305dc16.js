import H from"./Dialog.e368503a.js";import{a7 as L,a5 as R,d as J,ad as I,r as y,b as K,o as u,e as Q,w as i,f as o,t as s,a as v,m as n,u as e,I as r,x as V,y as x,by as c,h as C,N as W,i as X,bB as T}from"./entry.8cba7e1e.js";import{u as Y}from"./useGTag.98087ddc.js";import{u as Z}from"./useLandingForm.533422ba.js";import ee from"./VerificationCodeInput.d58b074a.js";const le={class:"landing-dialog-container"},te={class:"title"},oe={key:0,class:"field-item"},ae={class:"label"},se={class:"input-wrapper"},ne={key:0,class:"field-item"},ie={class:"label"},de={class:"input-wrapper"},ue={key:1,class:"checkbox-item"},re={class:"checkbox-text"},ce={href:"/policy/privacy",target:"_blank"},fe={components:{ElInput:L,ElCheckbox:R}},ve=J({...fe,__name:"Dialog",props:{onClose:{type:Function,default:null},isValidity:{type:Boolean,default:!0},title:{default:""},label:{default:""},codeLabel:null,btnText:{default:""},checkboxText:{default:""},policyPrivacy:{default:""},needCode:{type:Boolean,default:!1},needInput:{type:Boolean}},setup(t){const d=t,{needCode:_}=I(d),f=y(!0),k=y(),P=K(()=>({width:"auto",backgroundColor:"#ffffff",boxShadow:"0px 16px 100px rgba(0, 0, 0, 0.15)",borderRadius:"8px"})),h=y(),S={target:h,background:"#ffe050"},{errorMessage:B,isError:N,verCodeErrMsg:w,isVerCodeErr:M,isAgreePolicyErr:U,agreePolicyErrMsg:D,isDisabled:m,formData:O,submitLimit:$,handleBtnClick:A,handleInputBlur:E}=Z({loadingOptions:S,needVerCode:_}),{email:b,isAgreePolicy:p,code:g}=I(O);async function F(){var l;if(!d.isValidity)return;await A(T.ClickDownload)&&((l=k.value)==null||l.closeDialog(),d.onClose&&d.onClose())}const{useLandingGTag:G}=Y(),{_PointLandingOperate:z}=G();return(j,l)=>{const q=H;return u(),Q(q,{ref_key:"dialogRef",ref:k,modelValue:e(f),"onUpdate:modelValue":l[5]||(l[5]=a=>r(f)?f.value=a:null),"dialog-style":e(P),onClose:l[6]||(l[6]=a=>e(z)(e(T).CloseDiscover))},{default:i(()=>[o("div",le,[o("h5",te,s(t.title),1),t.needInput?(u(),v("div",oe,[o("label",ae,s(t.label),1),o("div",se,[n(e(L),{modelValue:e(b),"onUpdate:modelValue":l[0]||(l[0]=a=>r(b)?b.value=a:null),disabled:e(m)||!t.isValidity,class:"input",clearable:"",type:"email",onBlur:l[1]||(l[1]=a=>e(E)("email"))},null,8,["modelValue","disabled"]),n(e(c),null,{default:i(()=>[V(o("p",{class:"error-msg"},s(e(B)),513),[[x,e(B)&&e(N)]])]),_:1})])])):C("",!0),n(e(c),null,{default:i(()=>[(e($)||e(_))&&t.needInput?(u(),v("div",ne,[o("label",ie,s(t.codeLabel),1),o("div",de,[n(ee,{modelValue:e(g),"onUpdate:modelValue":l[2]||(l[2]=a=>r(g)?g.value=a:null),modelModifiers:{trim:!0},disabled:e(m)||!t.isValidity,class:"input",clearable:"",onBlur:l[3]||(l[3]=a=>e(E)("code"))},null,8,["modelValue","disabled"]),n(e(c),null,{default:i(()=>[V(o("p",{class:"error-msg"},s(e(w)),513),[[x,e(w)&&e(M)]])]),_:1})])])):C("",!0)]),_:1}),t.needInput?(u(),v("div",ue,[n(e(R),{modelValue:e(p),"onUpdate:modelValue":l[4]||(l[4]=a=>r(p)?p.value=a:null),class:"checkbox-item__content"},null,8,["modelValue"]),o("span",re,[W(s(t.checkboxText)+" ",1),o("a",ce,s(t.policyPrivacy),1)]),n(e(c),null,{default:i(()=>[V(o("p",{class:"error-msg"},s(e(D)),513),[[x,e(U)&&e(D)]])]),_:1})])):C("",!0),o("button",{ref_key:"btnRef",ref:h,class:X(["submit-btn",{"is-disabled":e(m)||!t.isValidity}]),onClick:F},s(t.btnText),3)])]),_:1},8,["modelValue","dialog-style"])}}});export{ve as _};

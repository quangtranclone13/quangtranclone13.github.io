import{u as U}from"./timer.4152b58e.js";import{h as A}from"./moment.d2fcea56.js";import{ap as N,aq as E,ar as S,as as B,d as L,r,M as O,b as R,at as j,o as l,a as c,F,v as V,i as q,f as z,t as b,u as y,h as G,au as H}from"./entry.8cba7e1e.js";import{i as Y}from"./isString.4072b557.js";import{_ as Z}from"./_plugin-vue_export-helper.a1a6add7.js";var J="[object Date]";function K(o){return N(o)&&E(o)==J}var k=S&&S.isDate,P=k?B(k):K;const Q=P,W={class:"countdown-wrapper"},X={class:"countdown-wrapper-item__text"},ee={key:0,class:"countdown-wrapper-item__splitter"},te=L({__name:"Countdown",props:{value:{default(){return null}},splitter:{default:":"},mode:{default:"relative"},theme:{default:"dark"}},emits:["timeout"],setup(o,{emit:x}){const i=o,m=1e3,d=m*60,f=d*60,g=f*24,_=U(),C=Symbol("");function M(){!i.value||_.set({id:C,handler:D,timeout:m})}const s=r(!1);O(()=>i.value,()=>{D(),M()});const p=r(0),v=r(0),h=r(0),w=r(0),T=R(()=>[`${s.value?u(p.value):"?"}d`,`${s.value?u(v.value):"?"}h`,`${s.value?u(h.value):"?"}m`,`${s.value?u(w.value):"?"}s`]);function u(e){return e<10?`0${e}`:e}function $(){const{value:e}=i;let a=0;if(H(e)){const n=e.toString().length>10?e:e*1e3;a=new Date(n).getTime()}else Y(e)?a=new Date(e).getTime():Q(e)&&(a=e.getTime());return a}function D(){const e=$();i.mode==="relative"&&I(e)<=0&&(x("timeout"),_.clear())}function I(e){const a=Date.now(),n=A(a).utc().unix()*1e3,t=e-n;return s.value||(s.value=!0),t<=0?(p.value=v.value=h.value=w.value=0,t):(p.value=Math.floor(t/g),v.value=Math.floor(t%g/f),h.value=Math.floor(t%f/d),w.value=Math.floor(t%d/m),t)}return j(()=>{_.clear()}),(e,a)=>(l(),c("div",W,[(l(!0),c(F,null,V(y(T),(n,t)=>(l(),c("div",{key:t,class:q(["countdown-wrapper-item",[`is-${o.theme}`]])},[z("span",X,b(n),1),t!==y(T).length-1?(l(),c("span",ee,b(o.splitter),1)):G("",!0)],2))),128))]))}});const ie=Z(te,[["__scopeId","data-v-53677796"]]);export{ie as default};

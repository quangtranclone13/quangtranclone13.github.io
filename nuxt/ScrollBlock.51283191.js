import{d as p,K as v,ad as S,b as m,bF as b,M as x,o as d,a as g,l as h,h as z,p as F,u as l}from"./entry.8cba7e1e.js";/* empty css                        */import{_ as $}from"./_plugin-vue_export-helper.a1a6add7.js";const k=["src"],N=p({__name:"ScrollBlock",props:{src:{default:""},origin:{default(){return{x:54,y:40,scaleX:1,scaleY:1}}},offset:{default(){return{x:54,y:40,scaleX:.1,scaleY:.1}}},lazy:{default:0},maxScrollY:{default:754},onceEmit:{type:Boolean,default:!1}},emits:["change"],setup(t,{emit:c}){const e=t;let o=!1;const a=v({x:e.origin.x,y:e.origin.y,z:e.origin.z||0,scaleX:e.origin.scaleX,scaleY:e.origin.scaleY}),{x:i,y:n,z:y,scaleX:f,scaleY:r}=S(a);function u(s){if(!(s<e.lazy||X.value)){if(s-=e.lazy,s>e.maxScrollY){a.x=e.origin.x-e.offset.x,a.y=e.origin.y-e.offset.y,a.scaleX=e.origin.scaleX-e.offset.scaleX,a.scaleY=e.origin.scaleY-e.offset.scaleY,o||(o=e.onceEmit,c("change",!0));return}a.x=Number((e.origin.x-s/e.maxScrollY*e.offset.x).toFixed(3)),a.y=Number((e.origin.y-s/e.maxScrollY*e.offset.y).toFixed(3)),a.scaleX=Number((e.origin.scaleX-s/e.maxScrollY*e.offset.scaleX).toFixed(3)),a.scaleY=Number((e.origin.scaleY-s/e.maxScrollY*e.offset.scaleY).toFixed(3)),o||(o=e.onceEmit,c("change",Y.value))}}const Y=m(()=>i.value===e.origin.x-e.offset.x&&n.value===e.origin.y-e.offset.y&&f.value===e.origin.scaleX-e.offset.scaleX&&r.value===e.origin.scaleY-e.offset.scaleY),X=m(()=>e.offset.x===0&&e.offset.y===0&&e.offset.scaleX===0&&e.offset.scaleY===0),{y:_}=b();return x(_,s=>{u(s)},{immediate:!0}),x([()=>e.offset,()=>e.origin],()=>{u(r.value)}),(s,B)=>(d(),g("div",{class:"scroll-block-wrapper",style:F({transform:`translate3d(${l(i)}%,-${l(n)}%, ${l(y)}) scale(${l(f)},${l(r)})`})},[h(s.$slots,"img",{},()=>[t.src?(d(),g("img",{key:0,src:t.src,alt:""},null,8,k)):z("",!0)],!0)],4))}}),D=$(N,[["__scopeId","data-v-7a5f2186"]]);export{D as default};

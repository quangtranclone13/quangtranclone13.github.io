import W from"./Countdown.273479e2.js";import F from"./ScrollText.94455b24.js";import j from"./Container.84a5d59e.js";import J from"./Footer.5512fcf4.js";import{u as O}from"./useGTag.98087ddc.js";import{d as q,b as m,r as h,A as K,M as x,bE as Q,bF as X,k as Z,j as ee,o as r,a as c,f as t,u as n,m as d,w as _,bw as te,L as ne,bx as se,bG as C,g as S,t as l,h as p,i as oe,N as ie,bt as ae,p as le,J as re,U as ce,V as de}from"./entry.8cba7e1e.js";import{I as i}from"./index.23b6219e.js";import{g as y}from"./date.ab54ef13.js";const b=s=>(ce("data-v-7d6fd0e9"),s=s(),de(),s),ue={class:"inviter-banner"},me=["src"],pe={class:"pix-wrapper"},_e=b(()=>t("div",{class:"placeholder pix-col-md-900-1 pix-col-md-1400-1 pix-col-lg-1920-3 pix-col-3"},null,-1)),ge={class:"content pix-col-md-900-6 pix-col-md-1400-6 pix-col-lg-1920-8 pix-col-8"},ve={class:"content-label"},fe={class:"content-title"},he={class:"content-tip"},be={class:"content-desc"},Te=["innerHTML"],we={key:0,class:"pending-cue"},xe={key:1,class:"remaining-cue"},Ce=["innerHTML"],Se=["innerHTML"],ye=b(()=>t("div",{class:"placeholder-900 pix-col-md-900-1"},null,-1)),Ie=b(()=>t("div",{class:"placeholder-1920 pix-col-md-900-1 pix-col-md-1400-1 pix-col-lg-1920-1 pix-col-1"},null,-1)),Me={class:"img-wrapper pix-col-md-900-6 pix-col-md-1400-7 pix-col-lg-1920-9 pix-col-9"},Ye=["src"],De=["src"],Ge=q({__name:"Banner",props:{startTimestamp:{default:0},endTimestamp:{default:0},inviteeAwardCredits:{default:"?"},awardCredits:{default:"?"},invitationUrl:{default:""},actStatus:{default:i.InProgress},countdownTimestamp:{default:0}},emits:["timeout"],setup(s,{emit:I}){const a=s,{useInviterGTag:M}=O(),{_PointInviterClickInvite:Y}=M();async function T(e="page_banner"){if(a.actStatus!==i.InProgress)return;Y(e),await te(a.invitationUrl);const o=ne("inviter.copySuccessMessage");se(o)}const D=m(()=>{const o=n(C.global.locale)==="en"?"HH:mm:ss [on] MMM DD, YYYY":"HH:mm:ss [ng\xE0y] DD/MM/YYYY";return a.endTimestamp?y(a.endTimestamp,o):"?"}),k=m(()=>{const o=n(C.global.locale)==="en"?"MMM DD, YYYY":"DD/MM/YYYY";return a.startTimestamp?y(a.startTimestamp,o):"?"});function H(){I("timeout")}const w=h(),g=h(),{height:L,top:P}=K(w),$=m(()=>L.value<=-P.value);x($,e=>{var o,u;e?(o=g.value)==null||o.show():(u=g.value)==null||u.hide()});const A=m(()=>a.actStatus!==i.InProgress),{height:v}=Q(),{y:E}=X(),B=720,G=m(()=>v.value<=B),f=h(1),N=Z(f,{duration:300,transition:ee.linear});return x(E,e=>{e/v.value<.25?f.value=1-e*4/v.value:f.value=0}),(e,o)=>{const u=re("ElCollapseTransition"),V=W,R=F,z=j,U=J;return r(),c("div",ue,[t("img",{class:"logo",src:n(S)("/assets/images/logo-1.png"),alt:""},null,8,me),d(z,{class:"inviter-banner-inner"},{default:_(()=>[t("div",pe,[_e,t("div",ge,[t("span",ve,l(e.$t("inviter.banner.label")),1),t("h3",fe,l(e.$t("inviter.banner.title",[s.awardCredits])),1),t("span",he,l(e.$t("inviter.banner.tip")),1),t("div",be,[t("p",null,l(e.$t("inviter.banner.desc[0]")),1),t("p",{innerHTML:e.$t("inviter.banner.desc[1]",[s.inviteeAwardCredits,s.awardCredits])},null,8,Te)]),d(u,null,{default:_(()=>[s.actStatus===n(i).Pending?(r(),c("p",we,l(e.$t("inviter.banner.pendingCue")),1)):p("",!0),s.actStatus===n(i).InProgress?(r(),c("p",xe,l(e.$t("inviter.banner.remainingCue")),1)):p("",!0)]),_:1}),d(V,{theme:"light",value:s.countdownTimestamp,onTimeout:H},null,8,["value"]),d(u,null,{default:_(()=>[s.actStatus===n(i).Pending?(r(),c("p",{key:0,class:"pending-text",innerHTML:e.$t("inviter.banner.pendingText",[n(k)])},null,8,Ce)):p("",!0),s.actStatus===n(i).Timeout?(r(),c("p",{key:1,class:"expires-text",innerHTML:e.$t("inviter.banner.expiresText",[n(D)])},null,8,Se)):p("",!0)]),_:1}),t("button",{ref_key:"btbRef",ref:w,class:oe(["content-btn",{"is-disabled":n(A)}]),onClick:o[0]||(o[0]=()=>T())},[d(R,null,{default:_(()=>[ie(l(e.$t("inviter.inviteBtnText")),1)]),_:1})],2)]),ye,Ie,t("div",Me,[t("img",{src:n(ae)("/images/pages/welfare/inviter/inviter-banner-img.webp"),alt:""},null,8,Ye)])]),n(G)?(r(),c("div",{key:0,style:le({opacity:n(N)}),class:"sign-wrapper shake-vertical"},[t("img",{src:n(S)("/assets/icons/pages/welfare/invite/indication_sign.png","icons"),alt:""},null,8,De)],4)):p("",!0)]),_:1}),d(U,{ref_key:"footerRef",ref:g,"is-valid":s.actStatus===n(i).InProgress,onCopy:T},null,8,["is-valid"])])}}});export{Ge as _};
